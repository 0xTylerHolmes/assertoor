{{ define "sidebar" }}
  <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 280px;">
    <div class="container-fluid text-secondary">
      <div class="row">
        <div class="col-12">
          Connected Clients:
        </div>
      </div>
      <div class="row">
        <div class="col-6">
          CL: {{ .CLReadyCount }} / {{ .ClientCount }}
        </div>
        <div class="col-6">
          Slot: {{ .CLHeadSlot }}
        </div>
      </div>
      <div class="row">
        <div class="col-6">
          EL: {{ .ELReadyCount }} / {{ .ClientCount }}
        </div>
        <div class="col-6">
          Block: {{ .ELHeadNumber }}
        </div>
      </div>
    </div>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="#" class="nav-link active" aria-current="page">
          All Test Runs
        </a>
      </li>
      <li class="my-1">
        <hr>
        Tests:
      </li>
      <li>
        <a href="#" class="nav-link link-dark">
          Test 1
        </a>
      </li>
      <li>
        <a href="#" class="nav-link link-dark">
          Test 2
        </a>
      </li>
    </ul>
  </div>
{{ end }}

{{ define "page" }}
  <div class="d-flex flex-column flex-grow-1 m-3">
    <h2 class="py-2">All Test Runs</h2>
    
    {{ template "test_runs" .Tests }}

  </div>
{{ end }}

{{ define "test_details" }}
  <div class="accordion accordion-flush" id="tasksList-{{ .Index }}">
    <div class="accordion-item d-none d-sm-block test-list-header">
      <h2 class="accordion-header">
        <div class="accordion-button test-header collapsed">
          <div class="container">
            <div class="row">
              <div class="col-6 col-sm-3 col-lg-6">Name</div>
              <div class="col-6 col-sm-3 col-lg-2">Timeout</div>
              <div class="col-6 col-sm-3 col-lg-2">Started</div>
              <div class="col-6 col-sm-3 col-lg-2">Finished</div>
            </div>
          </div>
          <div class="test-status"></div>
        </div>
      </h2>
    </div>
    {{ range $i, $test := .Tests }}
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button test-header collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#test{{ $test.Index }}-panel" aria-expanded="true" aria-controls="test{{ $test.Index }}-panel">
            <div class="container">
              <div class="row">

                <div class="d-sm-none col-3 px-0">Name:</div>
                <div class="col-7 col-sm-3 col-lg-6">{{ $test.Name }}</div>

                <div class="d-sm-none col-3 px-0">Timeout:</div>
                <div class="col-7 col-sm-3 col-lg-2">{{ $test.Timeout }}</div>

                <div class="d-sm-none col-3 px-0">Started:</div>
                <div class="col-7 col-sm-3 col-lg-2">
                  {{ if $test.IsStarted }}
                    {{ formatDateTime $test.StartTime.UTC }}
                  {{ end }}
                </div>

                <div class="d-sm-none col-3 px-0">Finished:</div>
                <div class="col-7 col-sm-3 col-lg-2">
                  {{ if $test.IsCompleted }}
                    {{ formatDateTime $test.StopTime.UTC }}
                  {{ end }}
                </div>

              </div>
            </div>
            <div class="test-status">
              {{ if eq $test.Status "pending" }}
                <span class="badge rounded-pill text-bg-secondary">
                  <i class="far fa-hourglass-half"></i>
                </span>
              {{ else if eq $test.Status "running" }}
                <span class="badge rounded-pill text-bg-primary">
                  <i class="far fa-play-circle"></i>
                </span>
              {{ else if eq $test.Status "success" }}
                <span class="badge rounded-pill text-bg-success">
                  <i class="fas fa-check-circle"></i>
                </span>
              {{ else if eq $test.Status "failure" }}
                <span class="badge rounded-pill text-bg-danger">
                  <i class="fas fa-times-circle"></i>
                </span>
              {{ else }}
                <span class="badge rounded-pill text-bg-warning">
                  {{ $test.Status }}
                </span>
              {{ end }}
            </div>
          </button>
        </h2>
        <div id="test{{ $test.Index }}-panel" class="accordion-collapse collapse">
          <div class="accordion-body">
            <strong>This is the first item's accordion body.</strong> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
          </div>
        </div>
      </div>
    {{ end }}

  </div>
{{ end }}

{{ define "js" }}
{{ end }}
{{ define "css" }}
<style>
.main-navigation {
  max-width: none !important;
}
</style>
{{ end }}